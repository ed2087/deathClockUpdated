console.log("graveyardApp.js");let page=1,limit=10,availableClocks=0;const liMold=a=>`\n <li class="gaveyard_graves">\n \x3c!-- image --\x3e\n <img src="../../IMAGES/utils/Grave.webp" alt="grave" class="graveyard_grave" alt="tomb stone">\n\n \x3c!-- users info --\x3e\n <div class="user_infowrap">\n <h3 class="userInfo_h3tag">${a.userName}</h3>\n <p class="userInfo_ptag"><span class="special_yellow_text">Yrs Left</span> <br> ${a.clock.yearsLeft}</p>\n \x3c!-- link --\x3e\n <a href="/deathClock/results/${a.userShortId}">More...</a>\n </div>\n </li>\n `,liMold_loading=()=>'\n <li class="gaveyard_graves loading_mold">\n\n \x3c!-- users info --\x3e\n <div class="user_infowrap">\n <h3 class="userInfo_h3tag">\n <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n </h3>\n <p class="userInfo_ptag"><span class="special_yellow_text">Yrs Left</span> <br> \n <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n </p>\n \x3c!-- link --\x3e\n <a href=""><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></a> \n </div>\n </li>\n',fetchGraveyards=async()=>{const a=id_("graveyard_wrap");Array.from({length:limit},(()=>a.insertAdjacentHTML("beforeend",'\n <li class="gaveyard_graves loading_mold">\n\n \x3c!-- users info --\x3e\n <div class="user_infowrap">\n <h3 class="userInfo_h3tag">\n <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n </h3>\n <p class="userInfo_ptag"><span class="special_yellow_text">Yrs Left</span> <br> \n <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>\n </p>\n \x3c!-- link --\x3e\n <a href=""><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></a> \n </div>\n </li>\n')));try{const i=await fetch(`/deathClock/pagination?page=${page}&limit=${limit}`),s=await i.json();if("ok"===s.status){document.querySelectorAll(".loading_mold").forEach((a=>a.remove())),s.data.forEach((i=>a.insertAdjacentHTML("beforeend",liMold(i))));const i=document.querySelectorAll(".gaveyard_graves").length;id_("loadMore").style.display=i===s.totalClocks_avalable?"none":"block",availableClocks=s.totalClocks_avalable}}catch(a){console.log(a)}},loadMoreGraves=()=>{page++,fetchGraveyards()};function updateClock(){console.log(availableClocks,"availableClocks")}id_("loadMore").addEventListener("click",loadMoreGraves),fetchGraveyards();
